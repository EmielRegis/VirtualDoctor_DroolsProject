package com.sample;

global QuestionCommunicator questionCommunicator;

import org.drools.marshalling.impl.ProtobufMessages

rule "Init"
    when
    then
        System.out.println("Initializiing...");
        boolean age = questionCommunicator.createQuestion("Are you over 18 sweetheart?");
		String sex =  questionCommunicator.createSelectOptionQuestion("What's your gender?", new String[] {"male", "female", "devil knows"});
		DiagnosisMaster diagnosis = new DiagnosisMaster(sex, age); 
        String[] compoundAnswer = questionCommunicator.createSelectOptionsQuestion("Co Cię boli, czy aż tak to cię boli, czy Rychu peja ma dziś szansę uczciwie zarobić?", new String[] {"klatka", "brzuch"});
		for(String ans : compoundAnswer) {
			if( ans == "klatka") diagnosis.setChestPain(true);
			//if (ans == "brzuch")
		}
		insert(diagnosis);
end

rule "Chest"
    when d : DiagnosisMaster(chestPain == true)
    then
        //String textAnswer = questionCommunicator.createSelectOptionQuestion("What's your gender?", new String[] {"male", "female", "devil knows"});
    	System.out.println("boli mnie klata");
    	//insert (new Integer(23));
    end

